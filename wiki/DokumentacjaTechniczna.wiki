1.	Wprowadzenie

Dokument ten opisuje charakterystykę techniczną aplikacji E-RAKIETA. Wymienione są główne fukcje aplikacji, opisany interfejs użytkownika, kod aplikacji, a także sposób przechowywania informacji w bazie danych.





1.1.	Opis dokumentu

Celem dokumentu jest wprowadzenie w logikę aplikacji, załeżenia towarzyszące jej powstawaniu, oraz strukturę kodu:

1.1.1.	Dokument

Dokument ten przeznaczony jest głównie dla administratorów aplikacji. Po jej wdrożeniu większość zmian można wprowadzać bez znaczącej ingerencji w kod i strukturę aplikacji, co w założeniu umożliwiać ma samodzielne jej utrzymywanie i administrację.
1.1.2.	Aplikacja

E-RAKIETA jest aplikacją webową, dostępną dla użytkowników poprzez przeglądarkę www. Umożliwia klientom klubu rezerwację dostępnych zasobów czy miejsc na zajęciach poprzez panel użytkownika do uprzednio wprowadzonych harmonogramów przez administratorów będących pracownikami klubu.

2.	Założenia projektowe

Głównym celem towarzyszącym projektowaniu i tworzeniu aplikacji były automatyzacja, przyspieszenie i uproszczenie rezerwacji zajęć oraz miejsc na ogólnodostępnych salach. Interfej użytkownika miał być prosty w obsłudze, dostępny przez przeglądarkę www bez konieczności instalowania żadnego dodatkowego oprogramowania.

2.1.	Środowisko użytkownika

Wymagania techniczne aplikacji ze strony użytkowników:

•	dowolny system opracyjny
•	przeglądarka internetowa
•	podłączenie do internetu
•	brak blokady JavaScript oraz okien pop-up 

2.2.	Wymagania dla administratora

Wszelkie zmiany w ofercie klubu będą wymagały ich odzwierciedlenia w strukturze aplikacji. Jej projektowaniu przyświecał cel, aby dokonywanie tych zmian było w jak największym stopniu uproszczone, możliwe do zrealizowania przez odpowiednio przeszkolonych pracowników bez konieczności posiadania wiedzy informatycznej. 

W celu umożliwienia administrowania aplikacją, konieczne jest udostępnienie środowiska o następującej charakterystyce:

•	System Operacyjny Windows 7 lub nowszy
•	Microsoft Visual Studio 12
•	MS-SQL Server Management Studio
•	zalecane 4GB RAM
•	ustawienia Windows Firewall umożliwiające komunikację aplikacji z bazą danych
•	otwarty port TCP 1433 (głowna ścieżka komunikacji aplikacji z bazą danych)
•	opcjonalne otwarcie portu 1434
•	umożliwienie komunikacji poprzez port 443 (protokół https) 

2.3.	Przebieg procesu tworzenia aplikacji

Prezentowana aplikacja jest rezultatem starań utrzymania ciągłej interakcji z potencjalnymi klientami, aby praktycznie na każdym etapie mogli wyrazić swoją opinię i zasugerować ewentualne zmiany. 

2.4.	Metody tworzenia programu

Tworzeniu aplikacji przyświecały zasady programowania techniką Agile. Dokonano starań, aby ciągła interakcja z potencjalnymi odbiorcami umożliwiła maksymalnie trafne zaadresowanie ich potrzeb. Szczegóły na temat zastosowanej techniki znajdują się pod adresem http://agilemanifesto.org/

3.	Architektura

Program w założeniu miał być prostą, uniwersalną, oraz lekką aplikacją, możliwą do szybkiego wdrożenia u każdego klienta. Mając na uwadze te cele, oparto się na następujących założeniach oraz technologiach:

•	Główny szkielet aplikacji powstał w Microsoft Visual Studio
•	VS posłużył do zbudowania poszczególnych stron html
•	a także do podpięcia kontrolek wywołujących akcję po ich kliknięciu
•	stworzono bazę danych Microsoft SQL
•	zbudowane zostało połączenie aplikacji z bazą danych
•	baza danych przechowuje informacje o użytkownikach, zasobach oraz ich wykorzystaniu
•	zdecydowano się na ciągłą interakcje z bazą danych, i jej aktualizację w czasie rzeczywistym
•	utrzymywane są historyczne dane dla przeszłych rezerwacji
•	usunięcie konta użytkownika skutkuje skasowaniem informacji o nim, oraz przypisaniem uniemożliwiającego indentyfikację identyfikatora, celem umożliwienia przechowywania danych historycznych
•	mechanizm logowania umożliwia dostęp do uprzednio stworzonego konta bez konieczności ponownego podawania swoich danych
•	funkcja przypominania hasła umożliwia odzyskanie dostępu do konta

4.	Struktura aplikacji

Struktura aplikacji została oparta na widokach, jakie będą dostępne dla użytkowników zewnętrznych, oraz pracowników klubów. 

Poszczególne funkcje zostały umieszczone na stronach, z których mają być udostępnione, i podpiętę do konrolek, których kliknięcie uruchamia skrypty zawierające te funkcje. 

Na stronie startowej, podpiętej bezpośrednio pod adres www klubu, zawarte są ogólne informacje o klubie, jego lokalizacji, ofercie, itd. Możliwy jest także podgląd zajęć, dostępności miejsc czy sprzętu, jednak bez możliwości dokonywania rezerwacji czy jej anulowania.

Strona główna zawiera także pola tekstowe do wpisania nazwy użytkownika oraz hasła. Dostępne jest jedno logowanie zarówno dla użytkowników zewnętrznych, jak i pracowników klubu. Każdy utworzony profil ma przypisane odpowiednie role, według których udostępniane są właściwe funkcje. 

Ze strony głównej możliwe jest utworzenie nowego konta. Z założenia będzie ono zawsze kontem użytkownika zewnętrznego. Konto pracownika może utworzyć wyłącznie inny pracownik, zalogowany na siebie w systemie.

Ostatnią opcją dostępną ze strony głównej jest odzyskiwanie hasła. Po jej wyborze użytkownik proszony jest o podanie adresu e-mail przypisanego do konta, na który jest wysyłany link do strony umożliwiającej zresetowanie hasła. Funkcja ta jest dostępna tylko dla kont typu użytkownik zewnętrzny. Hasło konta pracownika klubu może zresetować tylko inny pracownik lub administrator.

Po zalogowaniu użytkownik otrzymuje dostęp do systemu rezerwacji. Po wybraniu daty sprawdzana jest dostępność kortów w danym dniu w ramach wydzielonych odgórnie 2-godzinnych przedziałów czasowych. Następuje sprawdzenie bazy danych poprzez policzenie rezerwacji na dany dzień. Jeśli ilość rezerwacji w danym przedziale czasowym odpowiada ilości kortów, użytkownik otrzymuje informację o braku możliwości dokonania rezerwacji.

Gdy pracownik klubu wybierze funkcję rezerwacji czasu na potrzeby organizacji zawodów, system dokona rezerwacji bez względu na istniejące już zapisy. Wyświetli jednocześnie listę konfiktowych rezerwacji, z możliwością wysłania maili informujących o ich odwołaniu na adresy przypisane do kont, z których dokonano rezerwacji.
4.1.	Baza danych

Aplikacja współpracuje z bazą danych przechowującą informacje o użytkownikach, dostępnych kortach, oraz danych historycznych.

Ze względów bezpieczeństwa informacje o użytkownikach zawarte są w dwóch tabelach.  Jedna przechowuje informacje osobiste, druga wyłącznie loginy i hasła. Login łączy obie tabele i pozwala na powiązanie zawartych informacji.

Przy próbie dokonania rezerwacji, użytkownik wybiera datę oraz godzinę. Po zatwierdzeniu zapytania, aplikacja odpytuje bazę danych o ilość rezerwacji na daną godzinę w wybranym dniu. Jeśli ilość rezerwacji jest równa ilości kortów, następuje odmowa, oraz wyswietlana jest wiadomość zachęcająca do wyboru innej godziny.

Pracownicy klubu mają dodatkową możliwość utworzenia rezerwacji na potrzeby zawodów. System odpytuje wtedy bazę danych o wszystkie rezerwacje na wybrany czas, oraz anuluje je.  

5.	Przeprowadzone testy oraz sprawdzenie poprawności działania

Scenariusze testów zostały opisane w osobnym dokumencie 'Use Cases'.

6.	Szczegóły logiki aplikacji

Jak napisano powyżej, struktura aplikacji została oparta na poszczególnych widokach (stronach html), w ramach których dostępne są poszczególne pola wyboru oraz nawigacji:

6.1.	ChangePassword
TextBox: CurrentPassword: użytkownik podaje dotychczasowe hasło
TextBox: NewPassword: użytkownik podaje nowe hasło
TextBox: ConfirmNewPassword: użytkownik podaje po raz drugi nowe hasło
Button: CancelPushButton: anulowanie operacji, powrót do strony głównej
Button: ChangePasswordPushButton: potwierdzenie kompletności informacji, przejście do strony ChangePasswordSuccess

6.2.	ChangePasswordSuccess
    Text: confirmation of a successful change of a password

6.3.	Login
TextBox: UserName: nazwa użytkownika
TextBox: Password: hasło użytkownika
CheckBox: RememberMe: zapisanie danych logowania w ciasteczkach
Hyperlink: RegisterHyperlink: 
Button: LoginButton: zalogowanie użytkownika

6.4.	Register
    
TextBox: UserName: nazwa użytkownika
TextBox: Email: adres e-mail użytkownika
TextBox: Password: wybrane hasło
TextBox: ConfirmPassword: powtórzenie hasła
Button: CreateUserButton
6.5.	ChangePassword
    
Zmiana hasła w bazie danych
6.6.	Members
    
Text: powitanie zarejestrowanego użytkownika
6.7.	Rezerwacja
    

6.8.	About
    

6.9.	Default
    

6.10.	Login


6.11.	Profiles

6.12.	RecoverPassword

7.	Bibliografia


      Brad Appleton <brad@bradapp.net>
      http://www.bradapp.net